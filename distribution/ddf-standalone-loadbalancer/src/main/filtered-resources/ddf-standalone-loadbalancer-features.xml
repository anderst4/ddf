<!--
/**
 * Copyright (c) Codice Foundation
 *
 * This is free software: you can redistribute it and/or modify it under the terms of the GNU Lesser General Public License as published by the Free Software Foundation, either
 * version 3 of the License, or any later version. 
 *
 * This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
 * See the GNU Lesser General Public License for more details. A copy of the GNU Lesser General Public License is distributed along with this program and can be found at
 * <http://www.gnu.org/licenses/lgpl.html>.
 *
 **/

 -->
<features name="ddf-${project.version}">
	
	<repository>mvn:ddf.distribution/distribution-kernel/${project.version}/xml/features</repository>
	<repository>mvn:ddf.platform/platform-app/${project.version}/xml/features</repository>
	<!-- DDF Load Balancer Feature -->
	<feature name="ddf-load-balancer" version="${project.version}"
		description="Feature for the DDF Load Balancer">
		<feature>camel-jetty</feature>
		<bundle>mvn:ddf.cloud/cloud-loadbalancer/${project.version}</bundle>
	</feature>
  
    <!-- 
    This jetty version is to fix a bug with the HttpClient code that throws periodic null-pointer errors. 
    Once Pax-Web reaches this version, this feature should be removed and the 'default' jetty used.
    -->
    <feature name="jetty" description="Provide Jetty engine support" version="7.6.12.v20130726">
        <bundle>mvn:org.apache.servicemix.specs/org.apache.servicemix.specs.activation-api-1.1/2.2.0</bundle>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-servlet_2.5_spec/1.2</bundle>
        <bundle>mvn:javax.mail/mail/1.4.5</bundle>
        <bundle>mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/1.1.1</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-util/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-io/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-http/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-client/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-continuation/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-jmx/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-server/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-security/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-servlet/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-servlets/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-xml/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-webapp/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-jndi/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-plus/7.6.12.v20130726</bundle>
        <bundle>mvn:org.eclipse.jetty/jetty-websocket/7.6.12.v20130726</bundle>
    </feature>

</features>
